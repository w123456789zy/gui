import pytest


def test_language_mix_verifier(reward_system_instance):
    # Good answer that follows instructions
    mix_rewards = reward_system_instance.get_reward(
        prompts=[
            "你是一个翻译高手，你会将我提供的中文内容翻译为英文，要求全小写，英文内容不做处理原样返回, 其中链接不翻译，--iw, --ar，--no， --style等参数保留原样返回, 如果不包含上述参数，不要添加。以下是需要翻译的内容：泡泡玛特风格，夏日泳池派对，水下镜头，blender，精美的画面，儿童电影质感，https://baike.baidu.com，大师级杰作"
        ],
        answers=[
            "<think>用户问的是长方体上蚂蚁从A点爬到B点的最短路程。首先，我需要想象一下这个长方体的结构，长宽高分别是6、4、4，A点应该是在底面的一个顶点，B点是在顶面的另一个顶点。通常处理这种最短路径问题，会用到展开图的方法，把长方体的表面展开，然后计算两点之间的直线距离。\n\n首先，确定A和B在长方体中的位置。A在底面的一个顶点，假设底面是长6，宽4，那么A应该是在底面的一个角，连接地面，而B在顶面的一个角，顶面的长和宽应该和底面一致，长6，宽4，但高度是4。从A到B，如果展开侧面，可能需要把两个面展开成一个平面，比如把前面的面和顶面或者侧面展开。\n\n另一种方法是，将长方体的表面展开，使得A和B位于同一个平面上，形成一个直角三角形的两条直角边。假设将长方体从A点所在的面（底面）展开，或者将侧面展开。</think>比如，当展开一个侧面时，前面的面是4x6，高是4，但可能需要将两个相邻的面展开，形成一个长和宽的组合。\n\n具体来说，从A到B的路径，可以看作在展开图中，A到B的直线距离。底面的长是6，宽是4，顶面的B点相对于A点的位置，如果将顶面视为在高度4的位置，那么当展开底面和顶面以及一个侧面时，比如把侧面（高4，长6）展开，或者把正面（4x4）展开。或者更准确地说，将长方体的三个面展开，形成一个直角三角形，其中一条边的长度是6+4=10，另一条是4+4=8？或者需要确定展开的方式。\n\n或者，考虑从A点出发，爬到旁边的一个点，比如先横向爬6，再纵向爬4，但更准确的是，将长方体展开为一个大的矩形，其中A到B的路径在展开图中是直线。假设将底面和上面的面沿着棱展开，形成一个长为6+4=10，宽为4+4=8？或者另一种方式，把高和长组合，比如从A点出发，向右爬6，向上爬4，然后向前爬4，或者展开成两个相邻的面，比如底面的长6，高4，和顶面的长6，宽4？可能需要具体分析坐标。\n\n设A点在底面的坐标是(0,0,0)，那么B点在顶面的坐标是(6,4,4)。"
        ],
        gt_answers=["<think></think><|begin_of_box|><|end_of_box|>"],
        datasources=["language_mix"],
        debug=False,
    )

    assert mix_rewards[0] == 0.0
